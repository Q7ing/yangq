<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>申请失败</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container" style="padding-top: 50px; padding-bottom: 50px;">
        <div class="rejection-icon">
            <div class="line line1"></div>
            <div class="line line2"></div>
        </div>
        <h2 style="margin-top: 30px; color: #dc3545;">申请失败</h2>
        <p id="rejection-reason" style="font-size: 16px; color: #666; max-width: 280px; margin: 15px auto;"></p>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const urlParams = new URLSearchParams(window.location.search);
            const reasonBase64 = urlParams.get('reason_b64');
            const reasonElement = document.getElementById('rejection-reason');

            if (reasonBase64) {
                try {
                    // 【最终修正】使用与您URL格式完全匹配的解码方法
                    const decodedReason = decodeURIComponent(escape(window.atob(reasonBase64)));
                    reasonElement.textContent = decodedReason;
                } catch (e) {
                    console.error("Base64解码失败:", e);
                    reasonElement.textContent = '无法加载失败原因（解码错误）。';
                }
            } else {
                reasonElement.textContent = '该账户存在异常风险，请联系客户经理。';
            }
        });
    </script>
</body>
</html>
